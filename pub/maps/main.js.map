{"version":3,"sources":["js/main.js"],"names":["url","addEl","document","getElementById","coursesEl","nameEl","codeEl","progEl","sylEl","getCourses","innerHTML","fetch","then","response","json","data","console","log","forEach","course","name","code","progression","syllabus","window","addEventListener","e","preventDefault","addCourse","value","JSON","stringify","method","body","catch","error"],"mappings":"AAAA,aAGA,MAAMA,IAAM,0FACNC,MAAQC,SAASC,eAAe,OAEhCC,UAAYF,SAASC,eAAe,WAEpCE,OAASH,SAASC,eAAe,QACjCG,OAASJ,SAASC,eAAe,QACjCI,OAASL,SAASC,eAAe,QACjCK,MAAQN,SAASC,eAAe,OAWtC,SAASM,aACLL,UAAUM,UAAY,GAGtBC,MAAMX,KACDY,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACFC,QAAQC,IAAIF,GAGZX,UAAUM,WACT,4NAWDK,EAAKG,SAAQC,IACTf,UAAUM,WACR,sDAESS,EAAOC,wCACPD,EAAOE,wCACPF,EAAOG,uDACCH,EAAOI,4GArC1CC,OAAOC,iBAAiB,OAAQhB,YAChCR,MAAMwB,iBAAiB,SAAS,SAASC,GACrCA,EAAEC,iBACFC,eA2CJ,IAAIA,UAAY,KAEZ,IAKIT,EAAS,CAACC,KALHf,OAAOwB,MAKUR,KAJjBf,OAAOuB,MAIwBP,YAH/Bf,OAAOsB,MAG6CN,SAFrDf,MAAMqB,OAIhBb,QAAQC,IAAIa,KAAKC,UAAUZ,IAG3BR,MAAMX,IAAK,CACPgC,OAAQ,OACRC,KAAMH,KAAKC,UAAUZ,KAExBP,MAAKC,GAAYA,EAASC,SAC1BF,MAAKE,IACFE,QAAQC,IAAIH,GACZL,gBAEHyB,OAAMC,GAASnB,QAAQC,IAAIkB","file":"../src/main.js","sourcesContent":["\"use strict\"\r\n\r\n//Variables\r\nconst url = \"https://devlie.se/dt173g%20-%20Webbutveckling%20III/Moment%205%20-%20REST%20API/api.php\";\r\nconst addEl = document.getElementById(\"add\");\r\n\r\nconst coursesEl = document.getElementById(\"courses\");\r\n\r\nconst nameEl = document.getElementById(\"name\");\r\nconst codeEl = document.getElementById(\"code\");\r\nconst progEl = document.getElementById(\"prog\");\r\nconst sylEl = document.getElementById(\"syl\");\r\n\r\n//Eventlisteners\r\nwindow.addEventListener(\"load\", getCourses);\r\naddEl.addEventListener(\"click\", function(e) {\r\n    e.preventDefault();\r\n    addCourse();\r\n});\r\n\r\n\r\n//Get Courses\r\nfunction getCourses () {\r\n    coursesEl.innerHTML = \"\";\r\n\r\n    //Fetch request\r\n    fetch(url)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data);\r\n\r\n            //Table headers\r\n            coursesEl.innerHTML +=\r\n            `\r\n            <tr>\r\n                <th>Course name:</th>\r\n                <th>Course code:</th>\r\n                <th>Progression:</th>\r\n                <th>Syllabus:</th>\r\n            </tr>\r\n           \r\n            `\r\n\r\n            //Table content data\r\n            data.forEach(course => {\r\n                coursesEl.innerHTML +=\r\n                 `\r\n                 <tr >\r\n                    <td> ${course.name} </td>\r\n                    <td> ${course.code} </td>\r\n                    <td> ${course.progression} </td>\r\n                    <td><a href=\"${course.syllabus}\" target=\"_blank\">Link</a></td>\r\n                </tr>\r\n                \r\n                 `\r\n            })\r\n        })\r\n}\r\n\r\n//Add a course to the REST API\r\nlet addCourse = () => {\r\n    //Form variables\r\n    let name = nameEl.value;\r\n    let code = codeEl.value;\r\n    let prog = progEl.value;\r\n    let syl = sylEl.value;\r\n\r\n    let course = {'name': name, 'code': code, 'progression': prog, 'syllabus': syl};\r\n\r\n    console.log(JSON.stringify(course));\r\n\r\n    //Fetch request\r\n    fetch(url, {\r\n        method: \"POST\",\r\n        body: JSON.stringify(course),\r\n    })\r\n    .then(response => response.json())\r\n    .then(json => {\r\n        console.log(json);\r\n        getCourses();\r\n    })\r\n    .catch(error => console.log(error)\r\n    );\r\n}"]}